

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ch_util.chan_monitor &mdash; ch_util 20.10.0+44.g2b46683 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/katex-math.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"></script>
        <script src="../_static/katex_autorenderer.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ch_util.connectdb" href="ch_util.connectdb.html" />
    <link rel="prev" title="ch_util.cal_utils" href="ch_util.cal_utils.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ch_util
          

          
          </a>

          
            
            
              <div class="version">
                20.10.0+44.g2b46683
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../reference.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ch_util._db_tables.html">ch_util._db_tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.andata.html">ch_util.andata</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.cal_utils.html">ch_util.cal_utils</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ch_util.chan_monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.connectdb.html">ch_util.connectdb</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.data_index.html">ch_util.data_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.data_quality.html">ch_util.data_quality</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.ephemeris.html">ch_util.ephemeris</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.finder.html">ch_util.finder</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.fluxcat.html">ch_util.fluxcat</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.holography.html">ch_util.holography</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.layout.html">ch_util.layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.ni_utils.html">ch_util.ni_utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.plot.html">ch_util.plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.rfi.html">ch_util.rfi</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.timing.html">ch_util.timing</a></li>
<li class="toctree-l3"><a class="reference internal" href="ch_util.tools.html">ch_util.tools</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ch_util</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../reference.html">API Reference</a> &raquo;</li>
        
      <li>ch_util.chan_monitor</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/_autosummary/ch_util.chan_monitor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ch_util.chan_monitor">
<span id="ch-util-chan-monitor"></span><h1>ch_util.chan_monitor<a class="headerlink" href="#module-ch_util.chan_monitor" title="Permalink to this headline">¶</a></h1>
<p>Channel quality monitor routines</p>
<p class="rubric">Classes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ch_util.chan_monitor.ChanMonitor" title="ch_util.chan_monitor.ChanMonitor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ChanMonitor</span></code></a>(t1[, t2, freq_sel, prod_sel, …])</p></td>
<td><p>This class provides the user interface to FeedLocator.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ch_util.chan_monitor.FeedLocator" title="ch_util.chan_monitor.FeedLocator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FeedLocator</span></code></a>(vis1, vis2, tm1, tm2, src1, …)</p></td>
<td><p>This class contains functions that do all the computations to determine feed positions from data.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="ch_util.chan_monitor.ChanMonitor">
<em class="property">class </em><code class="sig-prename descclassname">ch_util.chan_monitor.</code><code class="sig-name descname">ChanMonitor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t1</span></em>, <em class="sig-param"><span class="n">t2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">freq_sel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prod_sel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bswp1</span><span class="o">=</span><span class="default_value">26</span></em>, <em class="sig-param"><span class="n">bswp2</span><span class="o">=</span><span class="default_value">90</span></em>, <em class="sig-param"><span class="n">bsep1</span><span class="o">=</span><span class="default_value">154</span></em>, <em class="sig-param"><span class="n">bsep2</span><span class="o">=</span><span class="default_value">218</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides the user interface to FeedLocator.</p>
<p>It initializes instances of FeedLocator (normally one per polarization)
and returns results combined lists of results (good channels and positions,
agreement/disagreement with the layout database, etc.)</p>
<p>Feed locator should not
have to sepparate the visibilities in data to run the test on and data not to run the
test on. ChanMonitor should make the sepparation and provide FeedLocator with the right
data cube to test.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>[</strong><strong>t2</strong><strong>]</strong> (<em>t1</em>) – set to 1 sideral day after t1</p></li>
<li><p><strong>freq_sel</strong> – </p></li>
<li><p><strong>prod_sel</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Here t1 and t2 have to be unix time (floats)</p>
<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.fromdata">
<em class="property">classmethod </em><code class="sig-name descname">fromdata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">freq_sel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prod_sel</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.fromdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.fromdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize class from andata object</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.fromdate">
<em class="property">classmethod </em><code class="sig-name descname">fromdate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">freq_sel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prod_sel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bswp1</span><span class="o">=</span><span class="default_value">26</span></em>, <em class="sig-param"><span class="n">bswp2</span><span class="o">=</span><span class="default_value">90</span></em>, <em class="sig-param"><span class="n">bsep1</span><span class="o">=</span><span class="default_value">154</span></em>, <em class="sig-param"><span class="n">bsep2</span><span class="o">=</span><span class="default_value">218</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.fromdate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.fromdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize class from date</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.full_check">
<code class="sig-name descname">full_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.full_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.full_check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_cyl_pol">
<code class="sig-name descname">get_cyl_pol</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">corr_inputs</span></em>, <em class="sig-param"><span class="n">pwds</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_cyl_pol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_cyl_pol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_data">
<code class="sig-name descname">get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_feedlocator">
<code class="sig-name descname">get_feedlocator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pol</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_feedlocator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_feedlocator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_pol_prod_idx">
<code class="sig-name descname">get_pol_prod_idx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pol_inpt_idx</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_pol_prod_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_pol_prod_idx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_pos_pol">
<code class="sig-name descname">get_pos_pol</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">corr_inputs</span></em>, <em class="sig-param"><span class="n">pwds</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_pos_pol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_pos_pol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_prod_sel">
<code class="sig-name descname">get_prod_sel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_prod_sel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_prod_sel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_res_sing_src">
<code class="sig-name descname">get_res_sing_src</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fl</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_res_sing_src"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_res_sing_src" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_results">
<code class="sig-name descname">get_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="n">tdelt</span><span class="o">=</span><span class="default_value">2800</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_results" title="Permalink to this definition">¶</a></dt>
<dd><p>If self.finder exists, then it takes a deep copy of this object,
further restricts the time range to include only src transits,
and then queries the database to obtain a list of the acquisitions.
If self.finder does not exist, then it creates a finder object,
restricts the time range to include only src transits between
self.t1 and self.t2, and then queries the database to obtain a list
of the acquisitions.</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_src_cndts">
<code class="sig-name descname">get_src_cndts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_src_cndts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_src_cndts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_sunfree_srcs">
<code class="sig-name descname">get_sunfree_srcs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">srcs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_sunfree_srcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_sunfree_srcs" title="Permalink to this definition">¶</a></dt>
<dd><p>This method uses the attributes ‘night_acq_list’ and
‘acq_list’ to determine the srcs that transit
in the available data.  If these attributes do not
exist, then the method ‘set_acq_list’ is called.
If srcs is not specified, then it defaults to the
brightest four radio point sources in the sky:
CygA, CasA, TauA, and VirA.</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.get_test_res">
<code class="sig-name descname">get_test_res</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fl</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.get_test_res"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.get_test_res" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.init_feedloc_p1">
<code class="sig-name descname">init_feedloc_p1</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.init_feedloc_p1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.init_feedloc_p1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.init_feedloc_p2">
<code class="sig-name descname">init_feedloc_p2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.init_feedloc_p2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.init_feedloc_p2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.results_summary">
<code class="sig-name descname">results_summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.results_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.results_summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.set_acq_list">
<code class="sig-name descname">set_acq_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.set_acq_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.set_acq_list" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets four attributes.  The first two attributes
are ‘night_finder’ and ‘night_acq_list’, which are the
finder object and list of acquisitions that
contain all night time data between self.t1 and self.t2.
The second two attributes are ‘finder’ and ‘acq_list’,
which are the finder object and list of acquisitions
that contain all data beween self.t1 and self.t2 with the
sunrise, sun transit, and sunset removed.</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.set_metadata">
<code class="sig-name descname">set_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tms</span></em>, <em class="sig-param"><span class="n">input_map</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.set_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.set_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets self.corr_inputs, self.pwds, self.pstns, self.p1_idx, self.p2_idx</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.ChanMonitor.single_source_check">
<code class="sig-name descname">single_source_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#ChanMonitor.single_source_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.ChanMonitor.single_source_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Assumes self.source1 is NOT None</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ch_util.chan_monitor.FeedLocator">
<em class="property">class </em><code class="sig-prename descclassname">ch_util.chan_monitor.</code><code class="sig-name descname">FeedLocator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vis1</span></em>, <em class="sig-param"><span class="n">vis2</span></em>, <em class="sig-param"><span class="n">tm1</span></em>, <em class="sig-param"><span class="n">tm2</span></em>, <em class="sig-param"><span class="n">src1</span></em>, <em class="sig-param"><span class="n">src2</span></em>, <em class="sig-param"><span class="n">freqs</span></em>, <em class="sig-param"><span class="n">prods</span></em>, <em class="sig-param"><span class="n">inputs</span></em>, <em class="sig-param"><span class="n">pstns0</span></em>, <em class="sig-param"><span class="n">bsipts</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class contains functions that do all the computations to
determine feed positions from data. It also determines the quality
of data and returns a list of good inputs and frequencies.</p>
<p>Uppon initialization, it receives visibility data around one or two
bright sources transits as well as corresponding meta-data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vis1</strong> (<em>Visibility data around bright source transit</em>) – </p></li>
<li><p><strong>[</strong><strong>vis2</strong><strong>]</strong> (<em>Visibility data around bright source transit</em>) – </p></li>
<li><p><strong>tm1</strong> (<em>Timestamp corresponding to vis1</em><em> [</em><em>vis2</em><em>]</em>) – </p></li>
<li><p><strong>[</strong><strong>tm2</strong><strong>]</strong> (<em>Timestamp corresponding to vis1</em><em> [</em><em>vis2</em><em>]</em>) – </p></li>
<li><p><strong>src1</strong> (<em>Ephemeris astronomical object corresponding to the</em>) – transit in vis1 [vis2]</p></li>
<li><p><strong>[</strong><strong>src2</strong><strong>]</strong> (<em>Ephemeris astronomical object corresponding to the</em>) – transit in vis1 [vis2]</p></li>
<li><p><strong>freqs</strong> (<em>frequency axis of vis1</em><em> [</em><em>and vis2</em><em>]</em>) – </p></li>
<li><p><strong>prods</strong> (<em>Product axis of vis1</em><em> [</em><em>and vis2</em><em>]</em>) – </p></li>
<li><p><strong>inputs</strong> (<em>inputs loaded in vis1</em><em> [</em><em>and vis2</em><em>]</em>) – </p></li>
<li><p><strong>pstns0</strong> (<em>positions of inputs as obtained from the layout database</em>) – </p></li>
<li><p><strong>bsipts</strong> (<em>base inputs used to determine cross correlations loaded</em>) – (might become unecessary in the future)</p></li>
</ul>
</dd>
</dl>
<p>Basic initialization method</p>
<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.continuity_test">
<code class="sig-name descname">continuity_test</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">knl</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.continuity_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.continuity_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Call only if freqs are adjacent.
Uses xdists (Earth coords) instead of c_xdists (cylinder coords)
to allow for calling before ydists are computed. Doesn’t make any
difference for this test. Results are used in computing y_dists.</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.data_quality">
<code class="sig-name descname">data_quality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.data_quality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.data_quality" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.get_c_ydist">
<code class="sig-name descname">get_c_ydist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ph1</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ph2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">good_freqs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">1.5</span></em>, <em class="sig-param"><span class="n">Nmax</span><span class="o">=</span><span class="default_value">20</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.get_c_ydist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.get_c_ydist" title="Permalink to this definition">¶</a></dt>
<dd><p>N-S. Absolutelly assumes contiguous frequencies!!!</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.get_c_ydist_perfreq">
<code class="sig-name descname">get_c_ydist_perfreq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ph1</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ph2</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.get_c_ydist_perfreq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.get_c_ydist_perfreq" title="Permalink to this definition">¶</a></dt>
<dd><p>Old N-S dists function. TO be used only in case a continuum of
frequencies is not available</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.get_dists">
<code class="sig-name descname">get_dists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.get_dists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.get_dists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.get_postns">
<code class="sig-name descname">get_postns</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.get_postns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.get_postns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.get_xdist">
<code class="sig-name descname">get_xdist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ft_prms</span></em>, <em class="sig-param"><span class="n">dec</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.get_xdist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.get_xdist" title="Permalink to this definition">¶</a></dt>
<dd><p>E-W</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.getparams_ft">
<code class="sig-name descname">getparams_ft</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.getparams_ft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.getparams_ft" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.getphases_tr">
<code class="sig-name descname">getphases_tr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.getphases_tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.getphases_tr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.good_prod_freq">
<code class="sig-name descname">good_prod_freq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pass_rst</span></em>, <em class="sig-param"><span class="n">tol_ch1</span><span class="o">=</span><span class="default_value">0.3</span></em>, <em class="sig-param"><span class="n">tol_ch2</span><span class="o">=</span><span class="default_value">0.7</span></em>, <em class="sig-param"><span class="n">tol_fr1</span><span class="o">=</span><span class="default_value">0.6</span></em>, <em class="sig-param"><span class="n">tol_fr2</span><span class="o">=</span><span class="default_value">0.7</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.good_prod_freq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.good_prod_freq" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to determine overall bad products and overall bad frequencies
from a test_pass result.</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.params_ft">
<code class="sig-name descname">params_ft</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tm</span></em>, <em class="sig-param"><span class="n">vis</span></em>, <em class="sig-param"><span class="n">dec</span></em>, <em class="sig-param"><span class="n">x0_shift</span><span class="o">=</span><span class="default_value">5.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.params_ft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.params_ft" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Extract relevant parameters from source transit</dt><dd><dl class="simple">
<dt>visibility in two steps:</dt><dd><ol class="arabic simple">
<li><p>FFT visibility</p></li>
<li><p>Fit a gaussian to the transform</p></li>
</ol>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tm</strong> (<em>array-like</em>) – Independent variable (time)</p></li>
<li><p><strong>trace</strong> (<em>array-like</em>) – Dependent variable (visibility)</p></li>
<li><p><strong>freq</strong> (<em>float</em>) – Frenquency of the visibility trace, in MHz.</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – Declination of source. Used for initial guess of
gaussian width. Defaults to CygA declination: 0.71</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>popt</strong> (<em>array of float</em>) – List with optimal parameters: [A,mu,sig2]</p></li>
<li><p><strong>pcov</strong> (<em>array of float</em>) – Covariance matrix for optimal parameters.
For details see documentation on numpy.curve_fit</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.phase_trans">
<code class="sig-name descname">phase_trans</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vis</span></em>, <em class="sig-param"><span class="n">tm</span></em>, <em class="sig-param"><span class="n">tt</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.phase_trans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.phase_trans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.set_bslns0">
<code class="sig-name descname">set_bslns0</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.set_bslns0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.set_bslns0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.set_good_ipts">
<code class="sig-name descname">set_good_ipts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_ipts</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.set_good_ipts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.set_good_ipts" title="Permalink to this definition">¶</a></dt>
<dd><p>Good_prods to good_ipts</p>
</dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.single_source_test">
<code class="sig-name descname">single_source_test</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.single_source_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.single_source_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.solv_pos">
<code class="sig-name descname">solv_pos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dists</span></em>, <em class="sig-param"><span class="n">base_ipt</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.solv_pos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.solv_pos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ch_util.chan_monitor.FeedLocator.xdist_test">
<code class="sig-name descname">xdist_test</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xds1</span></em>, <em class="sig-param"><span class="n">xds2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">2.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ch_util/chan_monitor.html#FeedLocator.xdist_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ch_util.chan_monitor.FeedLocator.xdist_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="ch_util.connectdb.html" class="btn btn-neutral float-right" title="ch_util.connectdb" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="ch_util.cal_utils.html" class="btn btn-neutral float-left" title="ch_util.cal_utils" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2013, CHIME Collaboration.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>